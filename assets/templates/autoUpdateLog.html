<!-- 自动填表日志面板 -->
<div class="wide100p padding5 dataBankAttachments">
    <h2 class="marginBot5">
        <span>自动填表调试日志</span>
        <button id="auto_update_clear_log" class="menu_button" style="float: right; margin-left: 10px;">
            <i class="fa-solid fa-trash"></i> 清空日志
        </button>
        <button id="auto_update_refresh_log" class="menu_button" style="float: right;">
            <i class="fa-solid fa-refresh"></i> 刷新
        </button>
    </h2>
    <div style="margin-bottom: 10px;">
        <small style="color: #666;">实时显示自动填表的运行日志，帮助诊断问题</small>
    </div>
    
    <!-- 日志过滤器 -->
    <div style="margin-bottom: 10px; display: flex; gap: 10px; align-items: center;">
        <label style="margin: 0;">显示级别:</label>
        <label style="margin: 0;"><input type="checkbox" id="log_level_info" checked> 信息</label>
        <label style="margin: 0;"><input type="checkbox" id="log_level_success" checked> 成功</label>
        <label style="margin: 0;"><input type="checkbox" id="log_level_warning" checked> 警告</label>
        <label style="margin: 0;"><input type="checkbox" id="log_level_error" checked> 错误</label>
    </div>
    
    <!-- 日志统计 -->
    <div style="margin-bottom: 10px; padding: 10px; background: #f5f5f5; border-radius: 5px; font-size: 12px;">
        <span>总日志: <strong id="log_count_total">0</strong></span>
        <span style="margin-left: 15px;">✅ 成功: <strong id="log_count_success">0</strong></span>
        <span style="margin-left: 15px;">⚠️ 警告: <strong id="log_count_warning">0</strong></span>
        <span style="margin-left: 15px;">❌ 错误: <strong id="log_count_error">0</strong></span>
    </div>
    
    <!-- 日志容器 -->
    <div id="auto_update_log_container" style="
        background: #1e1e1e;
        color: #d4d4d4;
        padding: 15px;
        border-radius: 5px;
        max-height: 600px;
        overflow-y: auto;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 12px;
        line-height: 1.6;
    ">
        <div style="color: #888;">等待日志输出...</div>
    </div>
</div>

<style>
.log-entry {
    margin-bottom: 8px;
    padding: 8px;
    border-left: 3px solid #555;
    background: #2d2d2d;
    border-radius: 3px;
}

.log-entry.info {
    border-left-color: #3794ff;
}

.log-entry.success {
    border-left-color: #89d185;
}

.log-entry.warning {
    border-left-color: #e5c07b;
}

.log-entry.error {
    border-left-color: #e06c75;
}

.log-timestamp {
    color: #858585;
    margin-right: 10px;
}

.log-level {
    padding: 2px 6px;
    border-radius: 3px;
    margin-right: 10px;
    font-size: 10px;
    font-weight: bold;
}

.log-level.info {
    background: #3794ff;
    color: white;
}

.log-level.success {
    background: #89d185;
    color: white;
}

.log-level.warning {
    background: #e5c07b;
    color: #1e1e1e;
}

.log-level.error {
    background: #e06c75;
    color: white;
}

.log-message {
    color: #d4d4d4;
}

.log-data {
    margin-top: 5px;
    padding: 5px;
    background: #1e1e1e;
    border-radius: 3px;
    color: #61afef;
    font-size: 11px;
    max-height: 200px;
    overflow: auto;
}

#auto_update_log_container::-webkit-scrollbar {
    width: 8px;
}

#auto_update_log_container::-webkit-scrollbar-track {
    background: #1e1e1e;
}

#auto_update_log_container::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 4px;
}

#auto_update_log_container::-webkit-scrollbar-thumb:hover {
    background: #777;
}
</style>
